---
layout: post
title:  win10 uwp 商业游戏  
category: uwp 
---

本文告诉大家去做一个商业游戏，游戏很简单，几乎没有什么技术。


<!--more-->
<!-- csdn -->

游戏的开始，需要添加框架库，于是引用我自己写的库。

首先是创建一个启动页面，这个页面是显示启动的。

在显示启动的时候，是需要加载游戏需要使用的资源，如果觉得这时需要控制进度条，就需要使用注入的方法，给他知道现在的进度，不过我现在不去做这里，于是就很简单的代码做出来启动页面。

现在的启动页还是空的，但是先不管他。

然后开始写一个欢迎页面，也就是开始游戏、继续、帮助等的页面，暂时先不做。

但是写了这么多，都不需要在 MainPage 写一个代码，现在就到了在 MainPage
开始写代码，这时的代码就是添加一个 Frame 作为跳转，和一个菜单。当然菜单现在还没东西，只是需要添加到这里。

看下，现在已经创建了两个页面。一个是启动页，一个是欢迎页。

接着开始做游戏的主页面，请注意，在写的时候，一个页面都是对应一个视图。可以看到在写的时候，不需要去管两个页面之间的逻辑。当然现在也无法管。

可以知道游戏的主页面需要有仓库、买东西的店铺、买东西的地方和工厂。

那么需要想游戏是如何玩的。

因为这个游戏是我昨天看到买菜的人说的，我就想去做一个。

首先物品有很多，而且可以通过工厂把低级的物品转为高级的物品。

物品包括

```csharp
种子
小米
麦
面
面包
番薯
矿石
铁
铜
木头
碳
煤
锄头
椅子
桌子
雕刻刀
大刀
弓箭

```

如果还有想到其他的物品，欢迎告诉我，不过在看完之前，请不要很快的告诉我那些物品，请在知道游戏如何玩之后在告诉我

物品是包括当前价格和市场价格，其中当前价格是不变的，而市场价格是会在 80%-120% 之间波动。

开始说游戏的商店是如何卖东西的，游戏使用的商店是可以通过市场买东西，然后把东西买个买东西的人。商店可以有很多个，当然，现在做的只有一个。商店存在信誉，商店来的客人数是不固定，和商店所在地方和商店信誉有关。如果一个地方人很多那么来商店的人会很多。如果商店信誉很好，来商店的人很多。

一个买东西的人，会告诉商店他买的是有哪些，数量，希望买的价格。买的价格就是市场价格，市场价格总是变化，需要在每个时间决定是否买入。

所以商店的输入按钮现在就有了一个，下一时间，也就是在这个时间是否有买东西的人过来，是否决定要从市场买东西。

所以点击一下按钮，就可以获得当前有多少个买东西的过来，处理完之后在去市场买东西。

买东西的人过来，就会说他现在需要买什么，当然游戏一开始不会立刻就出现高级的人来买比较大的东西。来买东西的人是有分等级的，也就是他有多少钱，于是按照钱判断他现在可以买多少东西。

如果商店存在他可以买的东西，如商店现在有东西

```csharp
种子 2
小米 10
麦   10
面   2
```

他想买东西是

```csharp
种子 1
小米 2
麦   3
```

于是刚好都可以买入，于是顾客就会给满分，因为他想要的商店可以买到所有他想要的东西。于是商店加信誉1。

一个人总的带来信誉 是这样计算，他想要的商品价格可以获得数

```csharp
 var s = 买东西人买东西加起来的所有价值 
 var a = 商店提供商品总价格
 带来信誉 = 2 * a / s - 1
```

如果只能满足买东西人一半的需要，那么不会带来任何的信誉提升。

于是在点击下一时间，就开始计算有多少买东西的人，他们有多少钱，所以需要物品这个类给出他可以被改变的概率，通过他的钱就可以算出。于是物品需要的属性就可以得到，物品名、物品需要多少钱，物品总量。现在物品的总量可以不计算。

来买东西的人有这些属性，所有的钱，级别。买的东西。级别就是商店有多少信誉在可以吸引这个买东西的人，这里写为一个列表
