---
layout: post
title:  win10 17025 触摸bug 
category: 技术 
stickie: False
---

在 win10 的 17025 可以容易让 UWP 触摸失效。做法是创建一个窗口背景是透明的 wpf 程序，把他置顶，这时所有 uwp 程序就无法触摸。

I found the easy way to make the UWP app touch not work in win10 17025. To create a wpf app with transparent background and make it Topmost, you can see all of the UWP app's touch not work.

<!--more-->

<!-- csdn -->

步骤：

1. 创建一个 wpf 程序

1. 设置 wpf 的窗口最大化

1. 设置 wpf 程序的背景为透明

1. 启动 wpf 程序

Step:

1. Create a wpf app

1. Set the wpf app's windows state is Maximized

1. Set the wpf app's windows background is transparent

1. Run the wpf app

这时就可以看到 Edge 等软件都无法触摸

Then you can see all of the uwp app's such as edge and setting touch not work.

在检查的时候可以使用[ManipulationDemo](https://github.com/walterlv/ManipulationDemo)，可以看到在触摸的时候没有 Pointer 消息。

You can use [ManipulationDemo](https://github.com/walterlv/ManipulationDemo) to help you see the Pointer message that cant get when touch.

![](http://7xqpl8.com1.z0.glb.clouddn.com/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F201711231645122017112316470.jpg)

下面是关闭 wpf 程序之后，可以看到最下面有 Pointer 消息

You can see this image that closed the wpf app show the pointer message.

![](http://7xqpl8.com1.z0.glb.clouddn.com/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F2017112316451220171123165235.jpg)

下面是这个wpf软件代码：

This is the wpf app's code:

```csharp
        public MainWindow()
        {
            InitializeComponent();

            AllowsTransparency = true;
            WindowStyle = WindowStyle.None;
            WindowState = WindowState.Maximized;
            Background = Brushes.Transparent;
            Topmost = true;
        }
```

This is my system and I think in win10 17025 the windows cant make the app uses pointer message to work that exists another transparent background app in above.

![](http://7xqpl8.com1.z0.glb.clouddn.com/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F201711231645122017112317012.jpg)
