---
title: "dotnet C# 获取一个可用的端口的方法"
author: lindexi
date: 2021-6-21 8:54:19 +0800
CreateTime: 2021-6-21 8:54:19 +0800
categories: dotnet C#
---

本文来告诉大家如何可以获取一个可用的端口

<!--more-->



<!-- 发布 -->

使用如下代码可以返回一个可用的端口

```csharp
        public static int GetAvailablePort(IPAddress ip)
        {
            TcpListener l = new TcpListener(ip, 0);
            l.Start();
            int port = ((IPEndPoint)l.LocalEndpoint).Port;
            l.Stop();
            return port;
        }
```

在调用 Stop 方法的时候，将可以重复使用此端口，同时在系统分配里面，在一段时间内不会再次被使用，因此这个端口是安全的，可以在这里进行使用

参阅 [MiSeCo #12: Find free TCP port in the system - Michal Dymel - DevBlog](https://devblog.dymel.pl/2016/05/05/find-free-tcp-port-system/)

[.net - In C#, how to check if a TCP port is available? - Stack Overflow](https://stackoverflow.com/questions/570098/in-c-how-to-check-if-a-tcp-port-is-available)

本文所有代码放在 [github](https://github.com/lindexi/lindexi_gd/tree/116d727103d5ecfa6547bd44ae2cb860b963fc54/YagabaigekeaLuliluje) 和 [gitee](https://gitee.com/lindexi/lindexi_gd/tree/116d727103d5ecfa6547bd44ae2cb860b963fc54/YagabaigekeaLuliluje) 欢迎访问

