---
layout: post
title: 生成密码 
category: 技术 
---
现在好多人不想在每个网站都使用相同密码，他们又无法记住所有网站的密码。

本文提供一个简单的方式让大家可以轻松记住一个账户和密码，来得到对每个不同的网站有一个对应的密码。
<!--more-->
<!-- csdn -->

首先是要求用户输入他要记住的账号和密码。

然后用户对他每个需要生成密码的网站，在程序输入域名。

接着就是选择生成的密码，有需要位数N，一般是6，8，10，16的长度。

生成密码的要求，一般有需要大写、需要小写、需要数字、需要特殊，我们把用于选择需要生成类型数记为n。

算法：

$x=md5(账号+域名)$

$x1=md5(密码+域名)$

$x2=md5(账号+密码+域名)$

生成一段字符串$s=x[0,1],x1[0,1],x2[0,1],x[2,3]…$，接着计算s是否包含有用户选择的所有累类型，如果存在一个类型没有存在，那么使用哈希`s+=has(类型)` 添加一个类型到字符串最后。

取长度$l=N-n$

N就是需要生成密码的长度，n就是选择类型数。

我们将会在s取出前l个字符，之所以要取出前l个，是因为用于必须要有类型，如果取出来的字符没有存在一个被选择类型的，那么在最后加类型。

循环密码`k=s[0,l]`，如果k存在不包含选择的类型，那么继续往`s[l]` 之后的字符找，找到第一个选择的类型，放入k，直到所有类型都被找到。

如果这时密码的长度小于N，那么往下取`s[l]`的字符，直到密码长度为N。

使用密码对得到k排序，参见我之前写的。

其中has函数为

```
char has(类型)
{
    var h = 3655;
    var a = 0;
    var b = Int.Max;
    var str=new {x,x1,x2};
    foreach(s:str)
    {
        foreach(t:s)
        {
            h=(a+t)&&b || (a+t);
            a=b<<t;
            b=b<<t;
        }
    }
    
    return (char)(h%(类型上限-类型下限)+类型下限+1);
}
```




