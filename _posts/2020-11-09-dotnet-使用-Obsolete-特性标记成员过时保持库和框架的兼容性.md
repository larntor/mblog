---
title: "dotnet 使用 Obsolete 特性标记成员过时保持库和框架的兼容性"
author: lindexi
date: 2020-11-9 12:6:33 +0800
CreateTime: 2020/11/9 8:59:44
categories: dotnet
---

在开发库以及框架的时候，持续维护会遇到兼容性的问题，如发现了旧版本有一些接口设计不合理，或者方法命名不符合逻辑等。此时如果直接更改原有的属性名或方法名甚至类名等，将会导致上层业务的开发者们在升级库之后构建不通过，因为缺少对应的方法。此时就需要上层业务的开发者们查阅文档才能了解如何应对升级之后带来的变动

<!--more-->


<!-- CreateTime:2020/11/9 8:59:44 -->

<!-- 发布 -->

在 dotnet 里面，可以使用 Obsolete 这个编译器分析辅助特性，给某个成员，如类和属性和方法事件等标记过时。这个 Obsolete 特性可以用来辅助库和框架开发者，在发生 API 变动时，可以保持兼容，或者提醒上层业务的开发者们如何应对

进行不兼容代码层 API 的变动，包括类名、属性名、方法名等所有公开的命名变更，以及命名空间的变更。还有删除成员带来的不兼容更改

而 Obsolete 特性标记，可以用来告知上层业务的开发者们当前成员已过时，同时在 Obsolete 特性标记上允许传入字符串，用于告诉上层业务的开发者们应当如何应对此变更。利用好这个特性，就可以让库和框架在变动 API 时，更好的保持兼容性，以及对上层业务的开发者们更加友好





本文代码放在 [github](https://github.com/lindexi/lindexi_gd/tree/d20149b7ace4d0b6e8ebb0a00aaede29a8de5118/BegibaberGawhilofigurwhal) 欢迎小伙伴访问


